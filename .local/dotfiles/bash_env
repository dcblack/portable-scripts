#!/bin/bash

# Must source bash_functions first

set -o vi

# Require Append_path Prepend_path Unique_path

# Locations
function portable-env() {
  # Environment
  PSCR="$(Realpath "${HOME}/.local")"
  APPS="$(Realpath "${PSCR}/apps")"
  DOTBIN="$(Realpath "${PSCR}/bin")"
  APPSBIN="${PSCR}/apps/bin"
  SYSTEMC_HOME="${PSCR}/apps/systemc"
  PATH="${DOTBIN}:${APPSBIN}:${PATH}"
  PERL5LIB="$(Realpath "${PSCR}/lib")"
  TEMPLATEPATH="$(Realpath "${HOME}/TEMPLATES")"
  for f in "${APPS}/templates" "${HOME}/TEMPLATES"; do
    Append_path TEMPLATEPATH "${f}"
  done

  Unique_path PATH
  Unique_path MANPATH
  Unique_path TEMPLATEPATH

  export PSCR APPS TEMPLATEPATH SYSTEMC_HOME PATH MANPATH PERL5LIB

  # Favorites
  FAVS="${HOME}"/Favorites
  mkdir -p "${FAVS}"

  # Affect applications
  LESS="-afrMRXj4x4"
  CMAKE_VERSION="3.19"
  CMAKE_BUILD="7"
  # Change following if have and prefer clang
  CC="gcc"
  CXX="g++"
  EDITOR="vim"

  export FAVS LESS CXX CC CMAKE_VERSION CMAKE_BUILD EDITOR
}

portable-env
