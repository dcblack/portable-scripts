#!/usr/bin/env perl5
#
#$Info: w2l - Convert Windows paths to Linux for use under WSL

require v5.6;
use strict;
use warnings;
use Cwd qw(abs_path getcwd);
use English;
use FindBin qw($RealBin $RealScript);
use File::Basename;
use FileHandle;
use FindBin qw($RealBin $RealScript);
STDOUT->autoflush(1);
STDERR->autoflush(1);

for (@ARGV) {
  if( s{^([A-Z]):}{} ) {
    my $d = lc $1;
    s{\\}{\/}g;
    printf "/mnt/%s%s\n",$d,$_;
  } elsif( s{^/mnt/([a-z])/}{/} ) {
    my $D = uc $1;
    s{\/}{\\}g;
    printf "%s:%s\n",$D,$_;
  } else {
    printf STDERR "Error: Skipping unrecognizable path %s\n", $_;
  }
}
